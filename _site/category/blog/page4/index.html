<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8"/>
		<title>
		 blog -
		
		 Fantasie</title>
		<!-- For responsive site
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
		-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<link rel="author" href="/humans.txt">
		<meta name="description" content="Description Goes Here">
		<link rel="stylesheet" href="/css/style.css">
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

		<!--[if IE 7]>
			<html class="ie7"> 
			<link rel="stylesheet" type="text/css" href="/css/font-awesome-ie7.min.css">
		<![endif]-->
		<!--[if IE 8]><html class="ie8"> <![endif]-->		
	    <!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->

	<link rel="apple-touch-icon" sizes="57x57" href="/ico/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/ico/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/ico/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/ico/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/ico/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/ico/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/ico/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/ico/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/ico/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="/ico/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/ico/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/ico/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/ico/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/ico/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff"> 
	</head>
	<body>
	<!-- Header
	    ================================================== -->
	<header>
	</header>

	  <div class="content">
    <main class="container">
        <div class="row-fluid">
        <article class="top-menu">
          <a href="/" class="menu-icon" data-toggle="tooltip" title="HOME"><i class="fa fa-home"></i></a>
<a href="/category/diary/" class="menu-icon" data-toggle="tooltip" title="DIARY"><i class="fa fa-book"></i> Diary</a>
      <a href="/category/blog/" class="menu-icon" data-toggle="tooltip" title="BLOG"><i class="fa fa-bars"></i> Blog</a>
      <a href="/tag/" class="menu-icon" data-toggle="tooltip" title="general"><i class="fa fa-tags"></i> Tags</a>
  <div class="top-line"></div>
        </article>
        
        

            <article class="diary">
              <div align=center><h2 class="content">Bash Shell 환경 설정</h2></div>
              <div class="time"><i class="fa fa-calendar"></i> 05 March 2016</div>
              <div class="tags"><a href="/tag/linux/">#Linux</a></div>
              <section>
                <p>몇몇의 초기화 파일들을 통해 사용자 shell의 환경을 설정할 수 있다.</p>

<!-- more -->

<h3 id="toc_0">/etc/profile 파일</h3>

<p><code>/etc/profile</code>은 사용자가 로그인 할 때, 시스템 전체적으로 공통된 초기화를 하기 위해 설정하는 파일이다. 즉 모든 사용자에게 적용된다. </p>

<h3 id="toc_1">~/.bash_profile 파일</h3>

<p><code>~/.bash_profile</code> 파일은 사용자별로 적용되는 파일이다. 사용자가 로그인을 하면 사용자 홈 디렉토리(~)에 있는 <code>.bash_profile</code> 파일을 실행한다. 만약 .bash_profile 파일이 없는데 <code>bash_login</code> 이라는 파일은 있다면 이를 대신 사용한다. 만약 이 또한 없는데 <code>.profile</code> 파일이 있다면 이를 사용한다. 즉 1) ~/.bash_profile &gt; 2) ~/.bash_login &gt; 3) ~/.profile 순으로 하나만 적용된다.</p>

<h3 id="toc_2">/etc/bashrc, ~/.bashrc 파일</h3>

<p>/etc/profile, ~/bash_profile 파일은 로그인 시 수행되는 반면, /etc/bashrc, ~/.bashrc 파일은 shell 실행시에 수행된다.
<code>/etc/bashrc</code> 파일은 시스템 전체에 적용되고, <code>~/.bashrc</code> 파일은 해당 사용자에게만 적용된다.</p>

<h3 id="toc_3">~/.bash_logout 파일</h3>

<p>해당 사용자가 로그아웃 할 때, 이 파일이 존재한다면 실행된다. 보통 임시 파일 삭제, 히스토리 파일 삭제, 로그아웃 시간 기록 등의 작업을 수행하는데 사용한다.</p>

<h3 id="toc_4">source 명령어</h3>

<p><code>source</code> 명령어 또는 <code>.</code> 명령어는 쉘 스크립트 파일명을 매개변수로 받는데, 이 파일을 현재 쉘에서 실행시킨다.</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="gp">$ </span><span class="nb">source</span> ./helloWorld.sh
<span class="gp">$ </span>. ./helloWorld.sh
</code></pre></div>
<p><code>source</code> 명령어나 <code>.</code> 명령어를 사용하지 않고 스크립트를 그냥 직접 실행시키면, 자식 쉘이 생성되어 실행되므로 현재 쉘에는 스크립트의 내용이 적용되지 않는다. 따라서 현재 쉘에 대한 환경 설정을 변경하는 스크립트 실행시 이 명령어를 사용한다. <code>.bash_profile</code> 등 초기화 파일을 수정했을 때, 다시 로그인하는 과정을 거치지 않고 현재 쉘에 바로 적용시키기 위해서 주로 사용한다. 또한 이 명령을 사용하는 경우는 스크립트에 실행 권한이 없어도 된다.</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="c"># 실행 권한(x)이 없다</span>
<span class="gp">$ </span>ls -l ~/.bash_profile
-rw-r--r--  1 www  staff  1362  2 19 23:36 /Users/www/.bash_profile

<span class="c"># 실행 권한이 없으므로 그냥 실행 시킬 수 없다</span>
<span class="gp">$ </span>~/.bash_profile
-bash: /Users/www/.bash_profile: Permission denied

<span class="c"># source 명령어나 . 명령어로 실행시 문제 없이 실행된다</span>
<span class="gp">$ </span><span class="nb">source</span> ~/.bash_profile
<span class="gp">$ </span>. ~/.bash_profile
</code></pre></div>
<h3 id="toc_5">set, shopt 명령어를 이용한 옵션 설정</h3>

<h4 id="toc_6">set 명령어</h4>

<p><code>set</code> 명령어의 <code>-o</code> 옵션을 이용하면 셸 환경에 대한 세부적인 사항을 설정할 수 있다.
<code>set -o</code> 명령을 실행하면 사용 가능한 모든 옵션의 목록과 설정된 값(on/off)을 출력한다.</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="gp">$ </span><span class="nb">set</span> -o
allexport       off     <span class="c"># 사용하지 않는 옵션</span>
braceexpand     on      <span class="c"># 사용하는 옵션</span>
emacs           on
errexit         off
errtrace        off
functrace       off
...
</code></pre></div>
<p><code>set -o 옵션명</code>을 실행하면 해당 옵션의 on/off 여부를 toggle 할 수 있다. 또한 대부분의 옵션에는 축약형이 존재한다. 예를 들어 <code>set -o allexport</code> 명령은 <code>set -a</code>으로 줄여서 쓸 수 있다.</p>

<h4 id="toc_7">shopt 명령어</h4>

<p><code>shopt</code> 명령어는 <code>set</code> 명령어를 대체하기 위해 2.x 이후 버전부터 적용된 명령이다. (shopt = shell options의 줄임말이다.) set 명령과 유사하나, 더욱 다양한 옵션들을 제공한다.</p>

<p><code>shopt -p</code> 명령을 실행하면 사용 가능한 모든 옵션의 목록을 볼 수 있다.  <code>-u</code>는 현재 사용하지 않는 옵션이고, <code>-s</code> 옵션은 현재 사용하는 옵션임을 의미한다.</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="gp">$ </span><span class="nb">shopt</span> -p
<span class="nb">shopt</span> -u cdable_vars
<span class="nb">shopt</span> -u cdspell
<span class="nb">shopt</span> -u checkhash
<span class="nb">shopt</span> -s checkwinsize
<span class="nb">shopt</span> -s cmdhist
<span class="nb">shopt</span> -u compat31
...
</code></pre></div>
<p><code>set</code> 명령어는 <code>-o</code> 옵션으로 설정 확인, on으로 변경, off로 변경을 모두 처리한다. 반면 shopt는 이들을 각각 다른 옵션으로 실행한다.</p>

<ul>
<li><code>shopt -p 옵션명</code> : 해당 옵션의 설정 값을 확인</li>
<li><code>shopt -u 옵션명</code> : 해당 옵션을 사용하지 않도록 변경</li>
<li><code>shopt -s 옵션명</code> : 해당 옵션을 사용하도록 변경</li>
</ul>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="c"># checkhash 옵션의 설정값 확인</span>
<span class="gp">$ </span><span class="nb">shopt</span> -p checkhash
<span class="nb">shopt</span> -u checkhash      <span class="c"># 사용하지 않는 옵션</span>

<span class="c"># checkhash 옵션을 사용하도록 변경</span>
<span class="gp">$ </span><span class="nb">shopt</span> -s checkhash

<span class="c"># checkhash 옵션의 설정값 확인</span>
<span class="gp">$ </span><span class="nb">shopt</span> -p checkhash
<span class="nb">shopt</span> -s checkhash      <span class="c"># 사용으로 변경되었다.</span>
</code></pre></div>
<h3 id="toc_8">PATH 설정</h3>

<p>배시 쉘은 커맨드 라인에 입력된 명령의 위치를 찾기 위해 변수 <code>PATH</code>의 값을 참조한다. </p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="gp">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:.
</code></pre></div>
<p>각 경로들은 콜론(:)으로 구분되어 있으며, 왼쪽에서 오른쪽 방향으로 검색된다. 경로의 맨 마지막 dot<code>.</code>은 현재 작업 디렉토리를 의미한다. 경로의 맨 마지막에 dot(.)을 지정하지 않은 경우에는, 현재 작업 디렉토리에 있는 명령이나 파일을 수행시킬 때 파일명 앞에 <code>./</code>를 붙여야 한다. 예를 들어 <code>./helloWorld.sh</code> 처럼 입력해야 한다. <code>./</code>를 붙이지 않고 파일명 <code>helloWorld.sh</code>만 입력한다면 쉘은 파일을 찾지 못한다.</p>
<div class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="gp">$ </span><span class="nb">echo</span> <span class="nv">$PATH</span>
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:   <span class="c"># dot 없음</span>

<span class="c"># 현재 디렉토리에 파일이 존재하나, 실행되지 않는다.</span>
<span class="gp">$ </span>helloWorld.sh
-bash: helloWorld.sh: <span class="nb">command </span>not found

<span class="c"># 앞에 ./를 붙이면 정상적으로 실행된다.</span>
<span class="gp">$ </span>./helloWorld.sh
Hello, world!

<span class="c"># PATH 변수의 값을 변경한다. 현재 값의 맨 뒤에 dot을 붙인다.</span>
<span class="gp">$ </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:.

<span class="c"># PATH를 수정하였으므로 ./를 붙이지 않아도 정상적으로 실행된다.</span>
<span class="gp">$ </span>helloWorld.sh
Hello, world!
</code></pre></div>
              </section>
            </article>
        
        </div>

      

<div id="post-pagination">
  <ul class="pages">
    
       <a href="/category/blog/"><i class="fa fa-angle-double-left"></i></a>
    
  

    
      <li class="prev">
        
        <a href="/category/blog/page3">PREV</a>
        
      </li>
  

    
    

    

    

       
      <li>
        
        <a href="/category/blog/">1</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page2">2</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page3">3</a>
        
      </li>
       
      <li>
        
        <span class="current-page">4</span>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page5">5</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page6">6</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page7">7</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page8">8</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page9">9</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page10">10</a>
        
      </li>
       
      <li>
        
        <a href="/category/blog/page11">11</a>
        
      </li>
      
    
    <li class="next">
      <a href="/category/blog/page5">NEXT</a>
    </li>
  

  
     <a href="/category/blog/page13"><i class="fa fa-angle-double-right"></i></a>
  

  </ul>
</div>

    </main>
  </div>




	<footer>
  <div class="wrapper">
    <a href=#><img src="/img/general/dog.png" class="img" border=0></a>
    <h2 class="footer-heading">fantasie</h2>
    <div class="intro">I still don't know what I want to do in my life. ☺<br>&nbsp;</div>
  </div>
</footer>

	<copyright>
		<div>&nbsp;</div>
	</copyright>

	<!-- Javascripts 
	    ================================================= -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/custom.js"></script>

    <!-- Analytics
    ================================================== -->
    <script>
		// analytics code
    </script>	
	</body>
</html>
